ANGLE:
 tenotsu_kijin_1:
  name: 天乙貴人
  method:
   -
     define: ANGLE_SHI
     target:
      - kinoe
      - tsuchinoe
      - kanoe
   -
     define: self.gogyo.angle + ANGLE_HALF_CIRCLE
     target:
      - kinoto
      - hinoe
      - hinoto
      - kanoto
      - mizunoe
      - mizunoto
   -
     define: self.gogyo.angle + ANGLE_RIGHT
     target:
      - tsuchinoto

 tenotsu_kijin_2:
  name: 天乙貴人
  default_method: -(original_angle(self.tenotsu_kijin_1_angle) + ANGLE_SHI + ANGLE_RIGHT)

 tenkan_kijin:
  name: 天官貴人
  method:
   - define: 210 * gogyo.pos_x ** 2 - 60 * gogyo.pos_x + 45 * inyou + 15
     target:
      - kinoe
      - kinoto
      - kanoe
      - kanoto
   - define: 150 * gogyo.pos_y ** 2 + 45 * gogyo.pos_y - 60 * inyou + 15
     target:
      - hinoe
      - hinoto
      - mizunoe
      - mizunoto
   - define: -75 * inyou + 15
     target:
      - tsuchinoe
      - tsuchinoto

 tenhuku_kijin:
  name: 天福貴人
  default_method: ((2 - self.code) % Jikkan::JIKKAN_COUNT) * ANGLE_SHI
  method:
   - define: ANGLE_SHI
     target:
      - mizunoto

 anroku:
  name: 暗禄
  default_method: original_angle(-self.kanroku_angle)

 kanroku:
  name: 干禄
  default_method: original_angle(Houn.by_key('kenroku').construct_junishi_with(self).angle)

 fukigakudo:
  name: 富貴学童
  default_method: (self.gogyo.angle + ANGLE_HALF_SHI - self.inyou * (ANGLE_RIGHT + ANGLE_HALF_SHI))

 tenchukijin:
  name: 天厨貴人
  default_method: original_angle(Hentsusei.by_key('shokusin').construct_other_with(self).kanroku_angle)

 kinyoroku:
  name: 金輿禄
  default_method: original_angle(self.kanroku_angle + ANGLE_DOUBLE_SHI)

 gakushi:
  name: 学士
  default_method: original_angle(Hentsusei.by_key('inju').construct_other_with(self).kanroku_angle)

 kyoroku_1:
  name: 夾禄
  default_method: original_angle(self.kanroku_angle - ANGLE_SHI)

 kyoroku_2:
  name: 夾禄
  default_method: original_angle(self.kanroku_angle + ANGLE_SHI)

 youjin:
  name: 羊刃
  default_method: original_angle(self.kanroku_angle + ANGLE_SHI)

 hijin:
  name: 飛刃
  default_method: original_angle(self.youjin.chu_angle)

 kouen:
  name: 紅艶
  method:
   - define: -ANGLE_SHI * (-5 * gogyo.pos_x ** 2 + gogyo.pos_x + 3 * gogyo.pos_y ** 2 - gogyo.pos_y - 4)
     target:
      - kinoe
      - kanoe
      - tsuchinoe
      - hinoe
      - mizunoe
   - define: ANGLE_HALF_SHI * (7 * gogyo.pos_x ** 2 - 3 * gogyo.pos_x + 7 * gogyo.pos_y ** 2 - gogyo.pos_y + 8)
     target:
      - kinoto
      - kanoto
      - tsuchinoto
      - hinoto
      - mizunoto

 ryuka:
  name: 流霞
  default_method: (ANGLE_HALF_SHI * ((4 -self.gogyo.code) * 4 - 1) - self.inyou * ANGLE_HALF_SHI) % 300 + 60
  method:
   - define: (ANGLE_HALF_SHI * ((4 -self.gogyo.code) * 4 - 1) + self.inyou * ANGLE_HALF_SHI) % 300 + 60
     target:
      - kanoe
      - kanoto

 fukusei_kijin:
  name: 福星貴人
  method:
   - define: (((5 - self.gogyo.code) % 5) % 4) * ANGLE_DOUBLE_SHI + ANGLE_DOUBLE_SHI
     target:
      - kinoe
      - hinoe
      - tsuchinoe
      - kanoe
      - mizunoe
   - define: ANGLE_SHI
     target:
      - kinoto
      - mizunoto
   - define: ((5 - self.gogyo.code) % 5) * ANGLE_DOUBLE_SHI + ANGLE_SHI
     target:
      - hinoto
      - tsuchinoto
      - kanoto

 bunsei_kijin:
  name: 文星貴人
  default_method: original_angle(self.kanroku_angle + ANGLE_RIGHT)

 setsudojin:
  name: 節度人
  method:
   - define: ANGLE_HALF_CIRCLE - self.inyou * ANGLE_SHI
     target:
      - kinoe
      - kinoto
      - hinoe
      - hinoto
      - tsuchinoe
      - tsuchinoto
   - define: -self.inyou * ANGLE_SHI
     target:
      - kanoe
      - kanoto
      - mizunoe
      - mizunoto

METHOD:
 taikyoku_kijin_1:
  name: 大極貴人
  default_method: Junishi.by_angle(revise_angle((-ANGLE_SHI * gogyo.pos_x + ANGLE_DOUBLE_SHI * gogyo.pos_y + ANGLE_SHI) % ANGLE_HALF_CIRCLE))
  method:
   - define: Junishi.by_angle(revise_angle(ANGLE_RIGHT + ANGLE_SHI))
     target:
      - tsuchinoe
      - tsuchinoto

 taikyoku_kijin_2:
  name: 大極貴人
  default_method: Junishi.by_angle(revise_angle(-2.5 * ANGLE_SHI * gogyo.pos_x + ANGLE_HALF_SHI * gogyo.pos_y + ANGLE_SHI * 8.5))
  method:
   - define: Junishi.by_angle(revise_angle(ANGLE_RIGHT * 2 + ANGLE_SHI))
     target:
      - tsuchinoe
      - tsuchinoto

 taikyoku_kijin_3:
  name: 大極貴人
  method:
   - define: Junishi.by_angle(revise_angle(ANGLE_RIGHT * 3 + ANGLE_SHI))
     target:
      - tsuchinoe
      - tsuchinoto
  default_method: nil

 taikyoku_kijin_4:
  name: 大極貴人
  method:
   - define: Junishi.by_angle(revise_angle(ANGLE_RIGHT * 4 + ANGLE_SHI))
     target:
      - tsuchinoe
      - tsuchinoto
  default_method: nil

 taikyoku_kijin_1?:
  name: 大極貴人
  default_method: target == self.taikyoku_kijin_1

 taikyoku_kijin_2?:
  name: 大極貴人
  default_method: target == self.taikyoku_kijin_2

 taikyoku_kijin_3?:
  name: 大極貴人
  method:
   - define: target == self.taikyoku_kijin_3
     target:
      - tsuchinoe
      - tsuchinoto
  default_method: true

 taikyoku_kijin_4?:
  name: 大極貴人
  method:
   - define: target == self.taikyoku_kijin_4
     target:
      - tsuchinoe
      - tsuchinoto
  default_method: true

 tenzai:
  name: 天財
  default_method: Hentsusei.by_key('henzai').construct_other_with(self)

 tenzai?:
  name: 天財
  default_method: target == self.tenzai

JIKKAN:
 kinoe:
   member:
     gogyo_key: ki
     inyou: 1
     code: 0
     name: 甲
     point: 1
     point_day: 1

 kinoto:
   member:
     gogyo_key: ki
     inyou: -1
     code: 1
     name: 乙
     point: 0.5
     point_day: 1

 hinoe:
   member:
     gogyo_key: hi
     inyou: 1
     code: 2
     name: 丙
     point: 1
     point_day: 1

 hinoto:
   member:
     gogyo_key: hi
     inyou: -1
     code: 3
     name: 丁
     point: 0.5
     point_day: 1

 tsuchinoe:
   member:
     gogyo_key: tsuchi
     inyou: 1
     code: 4
     name: 戊
     point: 1
     point_day: 1

 tsuchinoto:
   member:
     gogyo_key: tsuchi
     inyou: -1
     code: 5
     name: 己
     point: 0.5
     point_day: 1

 kanoe:
   member:
     gogyo_key: kane
     inyou: 1
     code: 6
     name: 庚
     point: 1
     point_day: 1

 kanoto:
   member:
     gogyo_key: kane
     inyou: -1
     code: 7
     name: 辛
     point: 0.5
     point_day: 1

 mizunoe:
   member:
     gogyo_key: mizu
     inyou: 1
     code: 8
     name: 壬
     point: 1
     point_day: 1

 mizunoto:
   member:
     gogyo_key: mizu
     inyou: -1
     code: 9
     name: 癸
     point: 0.5
     point_day: 1
