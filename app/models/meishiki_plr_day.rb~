# coding : utf-8

require 'date'

class MeishikiPlrDay < MeishikiPlr

  def meishiki=(value)
    super
    self.piller = 'day'
  end
  
  # 天干、地支の取得
  def getTenkanChishi
    year = @meishikiData.year - 1
    days = year*365 + (year/4).truncate - (year/100).truncate + (year/ 400).truncate

    meishiki_date = @meishikiData.getMeishikiDate

    days = days + meishiki_date.strftime("%j").to_i

    tenkan = ((days - 6) % Jikkan::JIKKAN_COUNT) + 1
    chishi = ((days - 10) % Chishi::CHISHI_COUNT) + 1

    return tenkan,chishi
  end
end

